{"ast":null,"code":"import _toConsumableArray from\"/Users/katerynaprokofieva/Desktop/reactapp/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/katerynaprokofieva/Desktop/reactapp/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/katerynaprokofieva/Desktop/reactapp/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/katerynaprokofieva/Desktop/reactapp/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/katerynaprokofieva/Desktop/reactapp/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactDOM from'react-dom';import AppHeader from'../app-header';import SearchPanel from'../search-panel';import TodoList from'../todo-list/todo-list';import AppFilter from'../item-status-filter';import AddItem from'../add-item';import'./app.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.randomIndex=100;_this.state={todoData:[_this.createTodoItem('Drink milk'),_this.createTodoItem('Drink tea'),_this.createTodoItem('Learn React')],term:'',filter:'all'};_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var result=todoData.filter(function(el){return el.id!==id;});return{todoData:result};});};_this.addItem=function(text){var newElement=_this.createTodoItem(text);_this.setState(function(_ref2){var todoData=_ref2.todoData;var newArr=[].concat(_toConsumableArray(todoData),[newElement]);console.log(newArr);return{todoData:newArr};});};_this.searchItems=function(term){_this.setState({term:term});};_this.applyFilter=function(filterValue){_this.setState({filter:filterValue});};_this.search=function(arrItems,term){if(term.length===0){return arrItems;}return arrItems.filter(function(el){return el.label.toLowerCase().includes(term.toLowerCase());});};_this.onToggleImportant=function(id){_this.setState(function(_ref3){var todoData=_ref3.todoData;var arr=_this.toggleProperty(todoData,id,'important');return{todoData:arr};});};_this.onToggleDone=function(id){_this.setState(function(_ref4){var todoData=_ref4.todoData;var arr=_this.toggleProperty(todoData,id,'done');return{todoData:arr};});};return _this;}_createClass(App,[{key:\"createTodoItem\",value:function createTodoItem(label){return{label:label,important:false,done:false,id:this.randomIndex++};}},{key:\"toggleProperty\",value:function toggleProperty(arr,id,propName){return arr.map(function(el){if(el.id===id){// return { \n//   ...el,\n//   'important': !el['important']\n//  }\nel[propName]=!el[propName];}return el;});}},{key:\"filter\",value:function filter(items,_filter){switch(_filter){case'all':return items;case'active':return items.filter(function(item){return!item.done;});case'done':return items.filter(function(item){return item.done;});default:return items;}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,todoData=_this$state.todoData,term=_this$state.term,filter=_this$state.filter;var visibleItems=this.filter(this.search(todoData,term),filter);var doneCount=todoData.filter(function(item){return item.done;}).length;var todoCount=todoData.length-doneCount;return/*#__PURE__*/React.createElement(\"div\",{className:\"todo-app\"},/*#__PURE__*/React.createElement(AppHeader,{toDo:todoCount,done:doneCount}),/*#__PURE__*/React.createElement(\"div\",{className:\"top-panel d-flex\"},/*#__PURE__*/React.createElement(SearchPanel,{onSearchInput:function onSearchInput(text){return _this2.searchItems(text);}}),/*#__PURE__*/React.createElement(AppFilter,{filter:filter,onFilter:function onFilter(filterValue){return _this2.applyFilter(filterValue);}})),/*#__PURE__*/React.createElement(TodoList,{todos:visibleItems,onDeleted:function onDeleted(id){return _this2.deleteItem(id);},onToggleImportant:this.onToggleImportant,onToggleDone:this.onToggleDone}),/*#__PURE__*/React.createElement(AddItem,{onAdded:function onAdded(text){return _this2.addItem(text);}}));}}]);return App;}(Component);export{App as default};;ReactDOM.render(/*#__PURE__*/React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"sources":["/Users/katerynaprokofieva/Desktop/reactapp/todo/src/components/app/app.js"],"names":["React","Component","ReactDOM","AppHeader","SearchPanel","TodoList","AppFilter","AddItem","App","randomIndex","state","todoData","createTodoItem","term","filter","deleteItem","id","setState","result","el","addItem","text","newElement","newArr","console","log","searchItems","applyFilter","filterValue","search","arrItems","length","label","toLowerCase","includes","onToggleImportant","arr","toggleProperty","onToggleDone","important","done","propName","map","items","item","visibleItems","doneCount","todoCount","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport AppHeader from '../app-header';\nimport SearchPanel from '../search-panel';\nimport TodoList from '../todo-list/todo-list';\nimport AppFilter from '../item-status-filter';\nimport AddItem from '../add-item';\nimport './app.css';\n\nexport default class App extends Component {\n  randomIndex = 100;\n\n  state = {\n    todoData: [\n      this.createTodoItem('Drink milk'),\n      this.createTodoItem('Drink tea'),\n      this.createTodoItem('Learn React'),\n    ],\n    term: '',\n    filter: 'all',\n  };\n\n  createTodoItem(label) {\n    return {\n        label: label,\n        important: false,\n        done: false,\n        id: this.randomIndex++,\n    }\n  }\n\n  toggleProperty(arr, id, propName) {\n    return arr.map(el => {\n      if (el.id === id) {\n        // return { \n        //   ...el,\n        //   'important': !el['important']\n        //  }\n        el[propName] = !el[propName]\n      }\n      return el;\n    });\n  };\n\n  deleteItem = (id) => {\n    this.setState(({todoData}) => {\n      const result = todoData.filter(el => el.id !== id);\n      return {\n        todoData: result,\n      };\n    });\n  };\n\n  addItem = (text) => {\n      const newElement = this.createTodoItem(text);\n      this.setState(({todoData}) => {\n      let newArr = [...todoData, newElement];\n      console.log(newArr);\n\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  searchItems = (term) => {\n    this.setState({ term });\n  }\n\n  applyFilter = (filterValue) => {\n    this.setState({ filter: filterValue });\n  };\n\n  filter (items, filter) {\n    switch(filter) {\n      case 'all':\n        return items;\n      case 'active':\n        return items.filter((item) => !item.done)\n      case 'done':\n        return items.filter((item) => item.done)\n        default:\n        return items\n    }\n  }\n\n  search = (arrItems, term) => {\n    if(term.length === 0) {\n      return arrItems;\n    }\n    return arrItems.filter((el) => {\n      return el.label.toLowerCase().includes(term.toLowerCase());\n    })\n  };\n\n  onToggleImportant = (id) =>  {\n    this.setState(({todoData}) => {\n      const arr = this.toggleProperty(todoData, id, 'important');\n      return {\n        todoData: arr,\n      }\n    });\n    };\n\n  onToggleDone = (id) => {\n    this.setState(({todoData}) => {\n      const arr = this.toggleProperty(todoData, id, 'done');\n      return {\n        todoData: arr,\n      }\n    });\n  };\n\n  render() {\n\n    const {todoData, term, filter} = this.state;\n    const visibleItems = this.filter(this.search(todoData, term), filter);\n\n    const doneCount = todoData.filter((item) => item.done).length;\n    const todoCount = todoData.length - doneCount;\n\n    return (\n      <div className=\"todo-app\">\n        <AppHeader toDo={todoCount} done={doneCount} />\n        <div className=\"top-panel d-flex\">\n          <SearchPanel onSearchInput={(text) => this.searchItems(text)}/>\n          <AppFilter filter={filter} onFilter={(filterValue) => this.applyFilter(filterValue)}/>\n        </div>\n  \n        <TodoList todos={visibleItems}\n        onDeleted={(id) => this.deleteItem(id)}\n        onToggleImportant={this.onToggleImportant}\n        onToggleDone={this.onToggleDone}\n        />\n        <AddItem onAdded ={(text) => this.addItem(text)}/>\n      </div>\n    );\n  }\n};\n\nReactDOM.render(<App />, \n  document.getElementById('root'));\n\n"]},"metadata":{},"sourceType":"module"}